<mat-toolbar *ngIf="isLoggedIn" class="custom-header">
  <div class="header-container">
    <div class="logo-section">
      <button mat-icon-button class="mobile-menu-button" (click)="openMobileMenu()">
        <mat-icon>menu</mat-icon>
      </button>
      <span class="logo" (click)="navigateTo('')">CulturaConectaREC</span>
    </div>

    <div class="nav-section desktop-nav">
      <button *ngIf="userRole === 'ROLE_ADMIN'" mat-button [matMenuTriggerFor]="itemsMenu" class="nav-button">
        <mat-icon>category</mat-icon>
        <span class="button-text">Itens</span>
      </button>
      <button *ngIf="userRole === 'ROLE_ADMIN'" mat-button class="nav-button" (click)="navigateTo('menu/secretaria')">
        <mat-icon>account_balance</mat-icon>
        <span class="button-text">Secretarias</span>
      </button>
      <button *ngIf="userRole === 'ROLE_ADMIN'" mat-button class="nav-button" (click)="navigateTo('menu/usuario')">
        <mat-icon>people</mat-icon>
        <span class="button-text">Usu치rios</span>
      </button>
      <button *ngIf="userRole === 'ROLE_ADMIN'" mat-button class="nav-button" (click)="navigateTo('new/evento')">
        <mat-icon>event_available</mat-icon>
        <span class="button-text">Cadastrar Eventos</span>
      </button>
      <button mat-button class="nav-button" (click)="navigateTo('list/evento')">
        <mat-icon>event</mat-icon>
        <span class="button-text">Eventos</span>
      </button>
      <button mat-button class="nav-button" (click)="navigateTo('calendario')">
        <mat-icon>calendar_today</mat-icon>
        <span class="button-text">Calend치rio</span>
      </button>
    </div>

    <div class="user-section">
      <button mat-icon-button [matMenuTriggerFor]="userMenu" class="user-button">
        <mat-icon>account_circle</mat-icon>
      </button>
    </div>
  </div>
</mat-toolbar>

<mat-menu #itemsMenu="matMenu">
  <button *ngIf="userRole === 'ROLE_ADMIN'" mat-menu-item (click)="navigateTo('menu/tipoItens')">
    <mat-icon>list_alt</mat-icon>
    <span>Tipo Itens</span>
  </button>
  <button *ngIf="userRole === 'ROLE_ADMIN'" mat-menu-item (click)="navigateTo('menu/itens')">
    <mat-icon>post_add</mat-icon>
    <span>Cadastrar Itens</span>
  </button>
</mat-menu>

<mat-menu #userMenu="matMenu">
  <button mat-menu-item (click)="logout()">
    <mat-icon>logout</mat-icon>
    <span>Sair</span>
  </button>
</mat-menu>

<ng-template #mobileMenuTemplate>
  <div class="mobile-menu-content">
    <button mat-button (click)="navigateTo('list/evento')">
      <mat-icon>event</mat-icon>
      <span>Eventos</span>
    </button>
    <button mat-button (click)="navigateTo('calendario')">
      <mat-icon>calendar_today</mat-icon>
      <span>Calend치rio</span>
    </button>
    <button mat-button [matMenuTriggerFor]="mobileItemsMenu">
      <mat-icon>category</mat-icon>
      <span>Itens</span>
    </button>
    <button *ngIf="userRole === 'ROLE_ADMIN'" mat-button (click)="navigateTo('menu/secretaria')">
      <mat-icon>account_balance</mat-icon>
      <span>Secretarias</span>
    </button>
    <button *ngIf="userRole === 'ROLE_ADMIN'" mat-button (click)="navigateTo('menu/usuario')">
      <mat-icon>people</mat-icon>
      <span>Usu치rios</span>
    </button>
    <button *ngIf="userRole === 'ROLE_ADMIN'" mat-button (click)="navigateTo('new/evento')">
      <mat-icon>event_available</mat-icon>
      <span>Cadastrar Eventos</span>
    </button>
    <button mat-button (click)="logout()">
      <mat-icon>logout</mat-icon>
      <span>Sair</span>
    </button>
  </div>
</ng-template>

<mat-menu #mobileItemsMenu="matMenu">
  <button mat-menu-item (click)="navigateTo('menu/tipoItens')">
    <mat-icon>list_alt</mat-icon>
    <span>Tipo Itens</span>
  </button>
  <button mat-menu-item (click)="navigateTo('menu/itens')">
    <mat-icon>post_add</mat-icon>
    <span>Cadastrar Itens</span>
  </button>
</mat-menu>
